var documenterSearchIndex = {"docs":
[{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"EditURL = \"https://github.com/cadojo/ControlTheoryNotes.jl/blob/master/src/Chapter 1: Dynamics.jl\"","category":"page"},{"location":"generated/Chapter 1: Dynamics/#Dynamics-and-Equations-of-Motion","page":"Chapter 1: Dynamics","title":"Dynamics and Equations of Motion","text":"","category":"section"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"How stuff moves!","category":"page"},{"location":"generated/Chapter 1: Dynamics/#Overview","page":"Chapter 1: Dynamics","title":"Overview","text":"","category":"section"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"Our end goal as controls engineers is to affect a system in some desired way. To do this, we'll need a mathematical description of our system. This mathematical description is known as a model. There's a famous quote about mathematical models: \"all models are wrong, but some are useful\".","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"This is really important. We are always approximating our system by describing it with a model. The question we need to ask is \"is our approximate description of our system (our model) good enough?\"","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"note: Definitions\nModel - a mathematical description of a system","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"But what does this model look like? To answer this question, let's first discuss system dynamics, and equations of motion.","category":"page"},{"location":"generated/Chapter 1: Dynamics/#Dynamics","page":"Chapter 1: Dynamics","title":"Dynamics","text":"","category":"section"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"If we want to affect a system, then by definition, the system should be affect-able (is that a word?) by external forces. These \"forces\" don't necessarily need to be physical forces: consider the affect of introducing new predators in an ecosystem with the goal of affecting predator-prey populations.","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"So we have a mathematical description, and we know we'll need some changing parameter to affect the mathematical description. Sounds like we need equations! The equations that govern our system are often called equations of motion. Any system that changes due to some external \"force\" is known as a dynamical system by definition.","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"The first step to any controls problem is identifying the dynamics; this usually means defining the equations of motion for our system. A set of equations of motion which describe our dynamical system is our model.","category":"page"},{"location":"generated/Chapter 1: Dynamics/#Model-Example","page":"Chapter 1: Dynamics","title":"Model Example","text":"","category":"section"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"A really common system in engineering is known as the spring-mass-damper. We can roughly describe this system as a block on a table, which is connected to a spring. We can force (a.k.a. affect) this system by pulling on the block to extend or compress the spring.","category":"page"},{"location":"generated/Chapter 1: Dynamics/#Model-Construction","page":"Chapter 1: Dynamics","title":"Model Construction","text":"","category":"section"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"Let's figure out our equations of motion. The following question is usually a useful starting point: \"what are the forces on our system?\" We know we'll have one external force: us pulling or pushing on the block! Let's call this external force f_e. We'll also have a force due to the spring, and a force due to the friction between the block and the table. The force due to the spring will be proportional to the position of the block with respect to the spring's neutral position: let's call the spring constant k. The force due to friction will be proportional to the velocity of the block (let's forget about static friction for now): let's call the coefficient of friction d.","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"With all of the forces identified, we can start constructing the eqautions of motion for this system. If we call our block's position x, then the acceleration ddotx will be equal to the sum of our external force f_e, the spring force k x, and the force due to friction d dotx. Summing these forces produces the following (common) spring-mass-damper equation, where m is the mass of the block.","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"beginequation f_e = m ddotx + d dotx + k x endequation","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"We have our model! This is a second-order differential equation. It helps to divide all variables into two groups: parameters, and states. States describe the system at some point in time. In this case, state variables answer the following questions: \"where is the block, what is the velocity of the block, and what is the acceleration of the block?\" One set of valid state variables for this system is x and dotx; we don't need to include ddotx in our list of state variables because we can calculate ddotx from x and dotx.","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"note: Note\nWe say \"one set of state variables\" because there may (and nearly always are) other valid state representations that could completely describe this system! State variables are not unique.","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"If we leave states as symbolic, and then look to the equation(s) of motion of a system, the parameters describe a specific instance of a system. Put another way, no matter what values f_e, d, and k take, this equation of motion is identifiable as a spring-mass-damper. For this reason, we can specify f_e, d, and k as parameters. We can assume a unit mass for the block for now.","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"note: Note\nThe parameter f_e is our control parameter in this example, because we can change f_e to affect our system. For now, let's not differentiate between control parameters and non-control parameters.","category":"page"},{"location":"generated/Chapter 1: Dynamics/#Coding-our-Model","page":"Chapter 1: Dynamics","title":"Coding our Model","text":"","category":"section"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"We can simulate these dynamics with Julia's DifferentialEquations package. If you're familiar with MATLAB, DifferentialEquations provides numerical integration solvers that are similar to MATLAB's ode45 (and similar) solvers. We can use the ModelingToolkit package to conveniently put our model to code, and interface with DifferentialEquations for simulation.","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"using ModelingToolkit\n\n@parameters t fâ‚‘ d k\n@variables x(t) xÌ‡(t)\nÎ´ = Differential(t)\n\neqs = [\n    Î´(x) ~ xÌ‡,\n    Î´(xÌ‡)~ - d*xÌ‡ - k*x + fâ‚‘\n]\n\nmodel = ODESystem(eqs, t, [x, xÌ‡], [fâ‚‘, d, k])","category":"page"},{"location":"generated/Chapter 1: Dynamics/#Simulating-our-Model","page":"Chapter 1: Dynamics","title":"Simulating our Model","text":"","category":"section"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"With model defined above, we can use DifferentialEquations to simulate our system. Of course, to do this we'll need to specify numerical values for our parameters, and initial conditions (the simulation starting point) for our state variables. The code below specifies some arbitrary initial conditions and constant parameter values, and simulates the resulting dynamics.","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"using Plots\nusing DifferentialEquations\n\nproblem = let xâ‚€ = 0.1, xÌ‡â‚€ = 0.0, dâ‚™ = 0.5, kâ‚™ = 0.9, fâ‚™ = 1.0, Î”t = 30.0\n    ODEProblem(\n        model,\n        [x => xâ‚€, xÌ‡ => xÌ‡â‚€],\n        (0.0, Î”t),\n        [d => dâ‚™, k => kâ‚™, fâ‚‘ => fâ‚™]\n    )\nend\n\nsolutions = solve(problem, Tsit5(); reltol = 1e-12, abstol = 1e-12)\nfigure = plot(solutions; title = \"Spring Mass Damper Simulation\")\n#hide plot(figure)","category":"page"},{"location":"generated/Chapter 1: Dynamics/#GTM-Dynamics-Preview","page":"Chapter 1: Dynamics","title":"GTM Dynamics Preview","text":"","category":"section"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"Okay, we just showed some applied modeling and simulation for spring-mass-damper dynamics. What about the primary system we're analyzing throughout these notes, NASA's Generic Transport Model (GTM)? The polynomial-approximated equations we'll be using are super long. Still want to see them? It's your funeral!","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"note: Note\nAll of the polynomial approximations below were derived by Chakraborty et al.","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"Special thanks to Michael Livecchi, a good (and patient) friend who read all of these equations out over the phone to make sure they were typed correctly!","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"beginequation\nbeginalign\nf_1(xu) =  1233times10^-8x_1^4x_3^2 + 4853times10^-9x_2^3u_2^3 \n+ 3705times10^-5x_1^3x_2 x_3\n- 2184times10^-6x_1^3x_3^2 \n+ 2203times10^-2x_1^2x_2^3 - 2836times10^-6x_2^3u_2^2 \n + 3885times10^-7x_2^2u_2^3 - 1069times10^-6x_1^3x_3 \n - 4517times10^-2x_1^2x_2^2\n- 2140times10^-3x_1^2x_2u_1 \n- 3282times10^-3x_1^2x_2 x_3 - 8901times10^-4x_1^2u_1^2 \n + 9677times10^-5x_1^2x_3^2 - 2037times10^-4x_2^3u_2 \n- 2270times10^-4x_2^2u_2^2\n- 2912times10^-8x_2u_2^3 \n+ 1591times10^-3x_1^2x_2 - 4077times10^-4x_1^2u_1 \n + 9475times10^-5x_1^2x_3 - 1637x_2^3 \n- 1631times10^-2x_2^2u_2 + 4903x_2^2x_4 \n -4903x_2x_4^2 + 1702times10^-5x_2u_2^2 \n- 7771times10^-7u_2^3 + 1634x_4^3  \n- 4319times10^-4x_1^2 - 2142times10^-1x_2^2 \n+ 1222times10^-3x_2u_2\n+ 4541times10^-4u_2^2 \n+ 9823x_2 + 3261times10^-2u_2 \n- 9807x_4 + 4282times10^-1\nendalign*\nendequation","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"","category":"page"},{"location":"generated/Chapter 1: Dynamics/","page":"Chapter 1: Dynamics","title":"Chapter 1: Dynamics","text":"This page was generated using Literate.jl.","category":"page"},{"location":"#Control-Theory-Notes","page":"Introduction","title":"ðŸŽ¢ Control Theory Notes","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Fundamental control theory concepts, and applications with a (rough) approximation of an aircraft model!","category":"page"},{"location":"#Overview","page":"Introduction","title":"Overview","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Control theory is hard! Lots of analysis is nuanced, and it's pretty easy to fall into incorrect assumptions and incomplete understanding. That's where this refresher comes in. We'll cover basic definitions through multi-input multi-output linear analysis, and everything in between. These notes are available as a  website, and (soon) via  PDF.  If you have any questions, suggestions, or corrections, always feel free to email the author (Joe Carpinelli) at jdcarpinelli@gmail.com.","category":"page"},{"location":"#Goals","page":"Introduction","title":"Goals","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Introduce control theory\nDefine common industry terms\nOutline the rest of this note-set!","category":"page"},{"location":"#What-is-Control-Theory?","page":"Introduction","title":"What is Control Theory?","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Our world is filled with human-made, and natural systems. We can model each system with equations of motion. These equations describe how each system's state changes! A quick definition for state is described below. We often want to control the state in some way. Think about the populations of predators and prey in an ecosystem, inflation rates in an economy, the orientation of a rocket, the speed of a car, etc.","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"note: Definitions\nState â€“ a set of values that completely describe a system!","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"Over the years, smart people have developed a field known as controls. Control theory is a broad term which includes...","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"the math used to describe systems you'd like to control\nthe analysis tools you use to see how well your system behaves\nthe strategies for developing controllers\nmore stuff like this!","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"We'll need a few more definitions before we really get started. ","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"note: Definitions\nPlant â€“ the system you'd like to control (a car, a rocket, etc.)\nInput - parameter values in your equations which you can change to influence your system's state (often a force or a device which produces a force for physical systems)\nModel - the equations you've been given, or you've chosen which represent your system (model is synonymous with equations of motion)\nDynamics - math (equations) which descibe how a system's state changes due to external forces\nControl Law - an equation which describes how you change your input values (this is set by you, the controls engineer!)\nPerformance â€“ how well your controller controls your system (how fast does the system move towards your desired state values, is your controller robust to perturbations and noise, etc.)","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"We'll walk through common control theory concepts and strategies in this note-set. It helps to have a concrete example for a system to control, so let's use one! NASA has developed a model aircraft for research, and university researchers produced an approximated model to describe this aircraft. We will use this model throughout these notes. By working through these notes, you'll be learning to control (a very rough model of) an airplane!","category":"page"},{"location":"#What-System-are-we-Using?","page":"Introduction","title":"What System are we Using?","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"NASA has developed a sub-scale model aircraft (think RC model plane) for flight controls research. This model is called the Generic Transport Model: GTM for short! You can learn more about this in an overview page, or by checking out the following video. ","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"University researchers (Chakraborty et al) used curve-fitting strategies to approximate the equations which describe airplane flight as low-order polynomials. Polynomial approximations for systems are valuable because computers can compute polynomials quickly! ","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"This approximate (read, ROUGH) model for GTM flight dynamics has been ported to Julia as the PolynomialGTM package. PolynomialGTM only exports one variable: GTM, a ModelingToolkit.ODESystem instance which includes the polynomial-approximated equations of motion for NASA's GTM. ","category":"page"},{"location":"","page":"Introduction","title":"Introduction","text":"<iframe width=\"560\" src=\"https://www.youtube.com/embed/_3JSRvaTRIQ\" title=\"YouTube video player\" frameborder=\"0\" allow=\"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture\" allowfullscreen></iframe>","category":"page"},{"location":"#What's-Next?","page":"Introduction","title":"What's Next?","text":"","category":"section"},{"location":"","page":"Introduction","title":"Introduction","text":"Next, we'll look at nonlinear dynamics, and what these models look like.","category":"page"},{"location":"generated/Chapter 2: GTM Dynamics/","page":"Chapter 2: GTM Dynamics","title":"Chapter 2: GTM Dynamics","text":"EditURL = \"https://github.com/cadojo/ControlTheoryNotes.jl/blob/master/src/Chapter 2: GTM Dynamics.jl\"","category":"page"},{"location":"generated/Chapter 2: GTM Dynamics/#Generic-Aircraft-Dynamics","page":"Chapter 2: GTM Dynamics","title":"Generic Aircraft Dynamics","text":"","category":"section"},{"location":"generated/Chapter 2: GTM Dynamics/","page":"Chapter 2: GTM Dynamics","title":"Chapter 2: GTM Dynamics","text":"How planes move!","category":"page"},{"location":"generated/Chapter 2: GTM Dynamics/#Overview","page":"Chapter 2: GTM Dynamics","title":"Overview","text":"","category":"section"},{"location":"generated/Chapter 2: GTM Dynamics/","page":"Chapter 2: GTM Dynamics","title":"Chapter 2: GTM Dynamics","text":"We'll be analysing a polynomial approximation of GTM dynamics throughout these notes, so it's worth spending some time covering aircraft dynamics generically.","category":"page"},{"location":"generated/Chapter 2: GTM Dynamics/","page":"Chapter 2: GTM Dynamics","title":"Chapter 2: GTM Dynamics","text":"There are many dynamical modes that affect airplanes throughout flight. You can think of modes as oscillations in-time for some subset of a system's state space. Aircraft have dynamical modes which produce aircraft oscillations above and below the aircraft's longitudinal axis (the line pointing forward from the nose) â€“ these are known as longitudinal modes. Lateral modes (modes which rotate the aircraft about its longitudinally and vertically oriented axes) also affect flight dynamics. General information about dynamical modes common to flight dynamics is available on Wikipedia.","category":"page"},{"location":"generated/Chapter 2: GTM Dynamics/","page":"Chapter 2: GTM Dynamics","title":"Chapter 2: GTM Dynamics","text":"Only analyzing one set of dynamical modes (only some self-contained equations of motion) is common practice in early controls analysis. For simplicity, we'll do the same here and throughout these notes!","category":"page"},{"location":"generated/Chapter 2: GTM Dynamics/","page":"Chapter 2: GTM Dynamics","title":"Chapter 2: GTM Dynamics","text":"The equations of motion for the longitudinal flight dynamics associated with any generic aircraft are shown below.","category":"page"},{"location":"generated/Chapter 2: GTM Dynamics/","page":"Chapter 2: GTM Dynamics","title":"Chapter 2: GTM Dynamics","text":"beginequation\n    x = beginbmatrix V  alpha  q  theta endbmatrix \n    u = beginbmatrix delta_elev  delta_th endbmatrix\nendequation","category":"page"},{"location":"generated/Chapter 2: GTM Dynamics/","page":"Chapter 2: GTM Dynamics","title":"Chapter 2: GTM Dynamics","text":"beginalign*\n    dotV = frac1mleft(-D - m g sin(theta - alpha) + T_x cosalpha + T_z sinalpha right) tag \n    dotalpha = frac1m Vleft(-L + m g cos(theta - alpha) - T_x sinalpha + T_z cosalpharight) + q tag \n    dotq = fracM + T_mIyy tag \n    dottheta = q tag\nendalign*","category":"page"},{"location":"generated/Chapter 2: GTM Dynamics/","page":"Chapter 2: GTM Dynamics","title":"Chapter 2: GTM Dynamics","text":"","category":"page"},{"location":"generated/Chapter 2: GTM Dynamics/","page":"Chapter 2: GTM Dynamics","title":"Chapter 2: GTM Dynamics","text":"This page was generated using Literate.jl.","category":"page"}]
}
